<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Siwvariant registration</title>
    <link rel="stylesheet" href="/css/stile.css" />
</head>
<body>
	<nav>
	<span class="username-in-alto" th:if="${userDetails!=null}" th:text="${userDetails.username}"></span>
	<br>
	<span><a href = "/logout">Logout</a></span>
	</nav>
	<header>
		<a href = "/"><h1>SiwVariant</h1></a>
	</header>
    <h2>User Registration Form 2</h2>
    <form th:action="@{/register}" method="POST" th:object="${credentials}">
		<div th:if="${#fields.hasGlobalErrors()}">
			<p th:each="err : ${#fields.globalErrors()}" th:text="${err}"></p>
		</div>
        <label for="username">Username:</label><br>
        <input type="text" th:field="${credentials.username}" required>
		<span th:if="${#fields.hasErrors('username')}" th:errors="${credentials.username}"></span>
		<br><br>
        <label for="password">Password:</label><br>
        <input type="password" th:field="${credentials.password}" required>
		<span th:if="${#fields.hasErrors('password')}" th:errors="${credentials.password}"></span>
		<br><br>
		<label for="password">Nome:</label><br>
		<input type="text" th:field="${user.nomeUtente}" required>
		<span th:if="${userErrors != null and userErrors.hasFieldErrors('nomeUtente')}" th:errors="${user.nomeUtente}"></span>
		<br><br>
		<label for="password">Cognome:</label><br>
		<input type="text" th:field="${user.cognome}" required>
		<span th:if="${userErrors != null and userErrors.hasFieldErrors('cognome')}" th:errors="${user.cognome}"></span>
		<label for="password">Nome editore:</label><br>
		<input type="text" th:field="${editore.nome}" required>
		<span th:if="${editoreErrors != null and editoreErrors.hasFieldErrors('nome')}" th:errors="${editore.nome}"></span>
		<br><br>
		<label for="password">Nazione:</label><br>
		<input type="text" th:field="${editore.nazione}" required>
		<span th:if="${editoreErrors != null and editoreErrors.hasFieldErrors('nazione')}" th:errors="${editore.nazione}"></span>
		
        <input type="submit" value="Register">
    </form>
</body>
</html>
